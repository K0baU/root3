<!DOCTYPE html>
<html lang="ja" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>&radic;3 近似値</title>
    <link rel="stylesheet" href="css/master.css">
  </head>
  <body>
    <header>
      <h1>&radic;3 近似値</h1>
    </header>
    <main>
      <p>x=(ax+b)/(cx+d)の形で入力</p>
      <p>最初はx=(x+3)/(x+1)が入力されています</p>
      <form class="function" action="index.html" method="get">
        <div class="numerator">
          <input type="number" id="a">x
          +<input type="number" id="b" value="3">
        </div>
        <div class="denominator">
          <input type="number" id="c">x
          +<input type="number" id="d" value="1">
        </div>
        <button type="button" id="calculate">
          計算！</button>
      </form>
      <div class="result">
        <div class="use">
          <p>1回目:<span id="first">???</span></p>
          <p>2回目:<span id="second">???</span></p>
          <p>3回目:<span id="third">???</span></p>
        </div>
        <p>2乗した結果:<span id="square">3&plusmn;???</span></p>
        <p>3との差:<span id="error">???</span></p>
      </div>
    </main>
    <footer>
      <p>created by こばゆ</p>
    </footer>
    <script type="text/javascript">
      document.getElementById('calculate')
        .addEventListener('click',function(){
          var ans=2;
          var a=document.getElementById('a').value;
          if(a==''){
            a=1;
          }
          var b=document.getElementById('b').value;
          var c=document.getElementById('c').value;
          if(c==''){
            c=1;
          }
          var d=document.getElementById('d').value;
          var numerator=a*ans+1*b,denominator=c*ans+1*d;
          ans=numerator/denominator;
          document.getElementById('first').innerHTML=ans;
          var lastNumerator=numerator;
          numerator=lastNumerator*a+b*denominator;
          denominator=lastNumerator*c+d*denominator;
          ans=numerator/denominator;
          document.getElementById('second').innerHTML=ans;
          lastNumerator=numerator;
          numerator=lastNumerator*a+b*denominator;
          denominator=lastNumerator*c+d*denominator;
          ans=numerator/denominator;
          document.getElementById('third').innerHTML=ans;
          numerator*=numerator;
          denominator*=denominator;
          ans=numerator/denominator;
          document.getElementById('square').innerHTML=ans;
          var numerator3=3*denominator;
          numerator-=numerator3;
          ans=numerator/denominator;
          document.getElementById('error').innerHTML=ans;
        });
    </script>
  </body>
</html>
